<!DOCTYPE html>
<html>
<head>
<title>inxi :: programming conventions</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="smxi-docs.css" type="text/css">
<link rel="shortcut icon" href="/inc/favicon.ico">
</head>
<body>
<div id="maincontainer">
<<div id="topnav">
<ul>
<li><a href="/">home</a> :: </li><li><a href="/site/faqs.htm">faqs</a> :: </li><li><a href="/docs/">docs</a> :: </li><li><a href="http://techpatterns.com/forums/forum-33.html">forums</a> :: </li><li><a href="/docs/source-repos.htm">source repos</a> :: </li><li><a href="/site/donations.htm">donations</a></li><li>:: <a href="/site/contact.php">contact</a></li>
</ul>
<ul>
<li><a href="/docs/inxi.htm">inxi docs home</a> :: </li><li><a href="/docs/inxi-installation.htm">inxi install</a> :: </li><li><a href="/docs/inxi-man.htm">inxi man</a> :: </li><li><a href="/docs/inxi-options.htm">inxi options</a> ::  </li><li><a href="/docs/inxi-faqs.htm">inxi faqs</a> :: </li><li><a href="/docs/inxi-tech.htm">inxi tech info</a></li>
</ul>
</div>

<h1>inxi :: programming conventions</h1>
<pre>
Page Version: 1.0
Page Updated: 2015-08-24
</pre>

<p><strong>This page is obsolete, it was about pre Perl Bash/Gawk inxi 2.x, not the 3.x Perl version!!</strong></p>

<p>If you would like to submit patches for inxi, read and understand these conventions.  Patches not following these rules will be ignored.</p>
<p>As with all &#x27;rules&#x27; there are exceptions, these are noted where used. </p>

<h2>Basic Formatting and Structural Rules</h2>
<ul>
<li>Indentation: TABS</li>
<li>Do not use <tt>`....`</tt> (back quotes; aka: back tick; outdated bash style), those are totally non-reabable, use $(....) (parens; new bash style). 
	<ul>
	<li>Back quotes start a new shell. </li>
	<li>Parenthesis run in current shell. </li>
	</ul>
</li>
<li>Do not use one liner flow controls. Readability is more important. </li>
<li>The ONLY time you should use &#x27;;&#x27; (semi-colon) is in this single case:<br>
<tt> if [[ condition ]];then</tt>. </li>
<li>Never use compound &#x27;if&#x27;: ie:<br>
<tt>if [[ condition ]] &amp;&amp; statement</tt>. </li>
<li>Note: <tt>[[ -n $something ]]</tt> - double brackets does not require quotes for variables: ie, &quot;$something&quot;. </li>
<li>Always use quotes, double or single, for all string values. </li>
<li>All new code/methods must be in a function. </li>
<li>For all boolean tests, use &#x27;true&#x27; / &#x27;false&#x27;. 
	<ul>
	<li>!! Do NOT use 0 or 1 unless it&#x27;s a function return.  </li>
	</ul>
</li>
<li>Avoid complicated tests in the if condition itself. </li>
<li>To &#x27;return&#x27; a value in a function, use &#x27;echo <var>&#x27;. </li>
<li>For gawk: use always <tt>if ( num_of_cores &gt; 1 ) { hanging { starter </tt>for all blocks 
<ul>
<li>This method lets us use one method for all gawk structures, including BEGIN/END, if, for, etc </li>
</ul>
</li>
</ul>

<p><a href="#top">top</a></p>

<h2 id="variables-function-naming">Variables and Function Naming:</h2>
<ul>
<li>All functions should follow standard naming--verb adjective noun.  
	<ul>
	<li>ie, get_cpu_data </li>
	</ul>
</li>
<li>All variables MUST be initialized / declared explicitly. </li>
<li>All variables should clearly explain what they are, except counters like i, j. </li>
<li>Each word of variable or function must be separated by <tt>&#x27;_&#x27;</tt> (underscore) (camel form). 
	<ul>
	<li>use_this_style </li>
	</ul>
</li>
<li>Global variables are &#x27;UPPER CASE&#x27;, at top of script.
	<ul>
	<li>ie, SOME_VARIABLE=&#x27;&#x27; </li>
	</ul>
 </li>
<li>Local variables are &#x27;lower case&#x27; and declared at the top of the function. 
	<ul>
	<li>ie, some_variable=&#x27;&#x27; </li>
	</ul>
</li>
<li>Locals that will be inherited by child functions have first char capitalized (so you know they are inherited). 
	<ul>
	<li>ie, Some_Variable<a href="/p/inxi/w/edit/Some_Variable">?</a>  </li>
	</ul>
</li>
<li>Booleans should start with &#x27;<tt>b_</tt>&#x27; (local) or &#x27;<tt>B_</tt>&#x27; (global) and state clearly what is being tested. </li>
<li>Arrays should start with &#x27;<tt>a_</tt>&#x27; (local) or &#x27;<tt>A_</tt>&#x27; (global). </li>
</ul>

<p><a href="#top">top</a></p>

<h2 id="special-notes">Special Notes:</h2>
<ul>
<li>The color variable ${C2} must always be followed by a space unless you know what character is going to be next for certain. Otherwise irc color codes can be accidentally activated or altered. </li>
<li>For native script konversation support (check distro for correct konvi scripts path): 
<pre>
&#x27;KDE3&#x27; ln -s &lt;path to inxi&gt; /usr/share/apps/konversation/scripts/inxi
&#x27;KDE4&#x27; ln -s &lt;path to inxi&gt; /usr/share/kde4/apps/konversation/scripts/inxi
</pre>
</li>
<li>DCOP doesn&#x27;t like \n, so avoid using it for most output unless required, as in error messages. </li>
</ul>

<p><a href="#top">top</a></p>


</div>
</body>
</html>
